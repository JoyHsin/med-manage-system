[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m----------------< [0;36morg.me.joy:clinic-management-system[0;1m >-----------------[m
[[1;34mINFO[m] [1mBuilding Clinic Management System 1.0-SNAPSHOT[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-clean-plugin:3.3.2:clean[m [1m(default-clean)[m @ [36mclinic-management-system[0;1m ---[m
[[1;34mINFO[m] Deleting /Users/joyhsin/work/codes/med-manage-system/target
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.3.1:resources[m [1m(default-resources)[m @ [36mclinic-management-system[0;1m ---[m
[[1;34mINFO[m] Copying 1 resource from src/main/resources to target/classes
[[1;34mINFO[m] Copying 21 resources from src/main/resources to target/classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.11.0:compile[m [1m(default-compile)[m @ [36mclinic-management-system[0;1m ---[m
[[1;34mINFO[m] Changes detected - recompiling the module! :source
[[1;34mINFO[m] Compiling 135 source files with javac [debug release 17] to target/classes
[[1;34mINFO[m] /Users/joyhsin/work/codes/med-manage-system/src/main/java/org/me/joy/clinic/entity/VitalSigns.java: 某些输入文件使用或覆盖了已过时的 API。
[[1;34mINFO[m] /Users/joyhsin/work/codes/med-manage-system/src/main/java/org/me/joy/clinic/entity/VitalSigns.java: 有关详细信息, 请使用 -Xlint:deprecation 重新编译。
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mexec-maven-plugin:3.5.1:java[m [1m(default-cli)[m @ [36mclinic-management-system[0;1m ---[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-08-02 16:37:59 - Starting ClinicManagementSystemApplication using Java 17.0.15 with PID 53393 (/Users/joyhsin/work/codes/med-manage-system/target/classes started by joyhsin in /Users/joyhsin/work/codes/med-manage-system)
2025-08-02 16:37:59 - No active profile set, falling back to 1 default profile: "default"
2025-08-02 16:37:59 - Tomcat initialized with port 8080 (http)
2025-08-02 16:37:59 - Starting service [Tomcat]
2025-08-02 16:37:59 - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-02 16:37:59 - Initializing Spring embedded WebApplicationContext
2025-08-02 16:37:59 - Root WebApplicationContext: initialization completed in 542 ms
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.PermissionMapper.findByModuleAndEnabled] is ignored, because it exists, maybe from xml file
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.PermissionMapper.findAllEnabled] is ignored, because it exists, maybe from xml file
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.PermissionMapper.findByModule] is ignored, because it exists, maybe from xml file
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.PermissionMapper.findPermissionsByUserId] is ignored, because it exists, maybe from xml file
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.RoleMapper.findByRoleCodeIgnoreCase] is ignored, because it exists, maybe from xml file
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.RoleMapper.findByIsSystemRoleTrue] is ignored, because it exists, maybe from xml file
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.RolePermissionMapper.removeAllRolePermissions] is ignored, because it exists, maybe from xml file
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.RolePermissionMapper.findPermissionsByRoleId] is ignored, because it exists, maybe from xml file
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.RolePermissionMapper.countRolePermission] is ignored, because it exists, maybe from xml file
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.RolePermissionMapper.addRolePermission] is ignored, because it exists, maybe from xml file
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.RolePermissionMapper.removeRolePermission] is ignored, because it exists, maybe from xml file
2025-08-02 16:38:00 - mapper[org.me.joy.clinic.mapper.UserMapper.findByRoleId] is ignored, because it exists, maybe from xml file
 _ _   |_  _ _|_. ___ _ |    _ 
| | |\/|_)(_| | |_\  |_)||_|_\ 
     /               |         
                        3.5.5 
2025-08-02 16:38:00 - Filter 'jwtAuthenticationFilter' configured for use
2025-08-02 16:38:00 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b384a47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e9c8626, org.springframework.security.web.context.SecurityContextHolderFilter@43a42ede, org.springframework.security.web.header.HeaderWriterFilter@5db0058f, org.springframework.web.filter.CorsFilter@b28b119, org.springframework.security.web.authentication.logout.LogoutFilter@6fe961b9, org.me.joy.clinic.security.JwtAuthenticationFilter@489364fb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@300218bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d82212a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@439af344, org.springframework.security.web.session.SessionManagementFilter@28feff98, org.springframework.security.web.access.ExceptionTranslationFilter@7d6414e6, org.springframework.security.web.access.intercept.AuthorizationFilter@387948a0]
2025-08-02 16:38:00 - Tomcat started on port 8080 (http) with context path '/api'
2025-08-02 16:38:00 - Started ClinicManagementSystemApplication in 1.508 seconds (process running for 3.758)
2025-08-02 16:39:02 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-02 16:39:02 - Initializing Servlet 'dispatcherServlet'
2025-08-02 16:39:02 - Completed initialization in 1 ms
2025-08-02 16:39:02 - Securing OPTIONS /auth/login
2025-08-02 16:39:02 - Securing POST /auth/login
2025-08-02 16:39:02 - JWT令牌不以Bearer字符串开头
2025-08-02 16:39:02 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 16:39:02 - Cache miss for REQUEST dispatch to '/api/auth/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-08-02 16:39:02 - Secured POST /auth/login
2025-08-02 16:39:02 - 收到登录请求: testuser001
2025-08-02 16:39:02 - HikariPool-1 - Starting...
2025-08-02 16:39:02 - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@419420b0
2025-08-02 16:39:02 - HikariPool-1 - Start completed.
2025-08-02 16:39:02 - 用户登录尝试: testuser001
2025-08-02 16:39:02 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 16:39:02 - ==> Parameters: testuser001(String)
2025-08-02 16:39:02 - <==      Total: 1
2025-08-02 16:39:03 - Authenticated user
2025-08-02 16:39:03 - 创建用户会话: username=testuser001, expirationTime=2025-08-02T17:09:03.073851
2025-08-02 16:39:03 - 用户会话创建成功: testuser001
2025-08-02 16:39:03 - ==>  Preparing: UPDATE users SET username=?, password=?, full_name=?, email=?, department=?, position=?, enabled=?, account_non_expired=?, account_non_locked=?, credentials_non_expired=?, last_login_time=?, last_login_ip=?, password_changed_time=?, failed_login_attempts=?, created_at=?, updated_at=? WHERE id=? AND deleted=0
2025-08-02 16:39:03 - ==> Parameters: testuser001(String), $2a$10$0e4AreTgJ9MrXRR4jDCHbuRooOAdrl7KqEc2zQ7gDrdwh/7sZkNca(String), testuser001(String), testuser001@clinic.com(String), 内科(String), 医生(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2025-08-02T16:39:03.074814(LocalDateTime), 127.0.0.1(String), 2025-08-02T14:14:42(LocalDateTime), 0(Integer), 2025-08-02T14:14:42(LocalDateTime), 2025-08-02T14:14:42(LocalDateTime), 2(Long)
2025-08-02 16:39:03 - <==    Updates: 1
2025-08-02 16:39:03 - 用户登录成功: testuser001
2025-08-02 16:39:03 - 用户登录成功: testuser001
2025-08-02 16:39:06 - Securing OPTIONS /roles/enabled
2025-08-02 16:39:06 - Securing OPTIONS /roles/enabled
2025-08-02 16:39:06 - Securing OPTIONS /users
2025-08-02 16:39:06 - Securing OPTIONS /users
2025-08-02 16:39:06 - Securing GET /users
2025-08-02 16:39:06 - Securing GET /roles/enabled
2025-08-02 16:39:06 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 16:39:06 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 16:39:06 - ==> Parameters: testuser001(String)
2025-08-02 16:39:06 - ==> Parameters: testuser001(String)
2025-08-02 16:39:06 - <==      Total: 1
2025-08-02 16:39:06 - <==      Total: 1
2025-08-02 16:39:06 - Secured GET /users
2025-08-02 16:39:06 - Secured GET /roles/enabled
2025-08-02 16:39:06 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 16:39:06 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 16:39:06 - 获取用户权限: 2
2025-08-02 16:39:06 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 16:39:06 - ==> Parameters: 2(Long)
2025-08-02 16:39:06 - Securing GET /roles/enabled
2025-08-02 16:39:06 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 16:39:06 - ==> Parameters: testuser001(String)
2025-08-02 16:39:06 - <==      Total: 1
2025-08-02 16:39:06 - Secured GET /roles/enabled
2025-08-02 16:39:06 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 16:39:06 - <==      Total: 0
2025-08-02 16:39:06 - 权限验证失败: 方法=UserManagementController.getAllUsers, 需要权限=USER_VIEW, 逻辑=OR
2025-08-02 16:39:06 - Business error: 权限不足，无法访问该功能
2025-08-02 16:39:06 - Securing GET /users
2025-08-02 16:39:06 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 16:39:06 - ==> Parameters: testuser001(String)
2025-08-02 16:39:06 - <==      Total: 1
2025-08-02 16:39:06 - Secured GET /users
2025-08-02 16:39:06 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 16:39:06 - 获取用户权限: 2
2025-08-02 16:39:06 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 16:39:06 - ==> Parameters: 2(Long)
2025-08-02 16:39:06 - <==      Total: 0
2025-08-02 16:39:06 - 权限验证失败: 方法=UserManagementController.getAllUsers, 需要权限=USER_VIEW, 逻辑=OR
2025-08-02 16:39:06 - Business error: 权限不足，无法访问该功能
2025-08-02 16:42:37 - Securing OPTIONS /auth/logout
2025-08-02 16:42:37 - Securing POST /auth/logout
2025-08-02 16:42:37 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 16:42:37 - ==> Parameters: testuser001(String)
2025-08-02 16:42:37 - <==      Total: 1
2025-08-02 16:42:37 - Secured POST /auth/logout
2025-08-02 16:42:37 - 会话销毁成功: testuser001
2025-08-02 16:42:37 - 用户登出，令牌已加入黑名单并销毁会话
2025-08-02 16:42:37 - 用户登出成功
2025-08-02 16:42:44 - Securing POST /auth/login
2025-08-02 16:42:44 - JWT令牌不以Bearer字符串开头
2025-08-02 16:42:44 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 16:42:44 - Secured POST /auth/login
2025-08-02 16:42:44 - 收到登录请求: admin
2025-08-02 16:42:44 - 用户登录尝试: admin
2025-08-02 16:42:44 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 16:42:44 - ==> Parameters: admin(String)
2025-08-02 16:42:44 - <==      Total: 1
2025-08-02 16:42:44 - Authenticated user
2025-08-02 16:42:44 - 创建用户会话: username=admin, expirationTime=2025-08-02T17:12:44.396744
2025-08-02 16:42:44 - 用户会话创建成功: admin
2025-08-02 16:42:44 - ==>  Preparing: UPDATE users SET username=?, password=?, full_name=?, email=?, department=?, position=?, enabled=?, account_non_expired=?, account_non_locked=?, credentials_non_expired=?, last_login_time=?, last_login_ip=?, password_changed_time=?, failed_login_attempts=?, created_at=?, updated_at=? WHERE id=? AND deleted=0
2025-08-02 16:42:44 - ==> Parameters: admin(String), $2a$10$sBnVfcrUZJ4QoDbl.bqkM.TqDWy8MW.i5FU.vgnIZwnwapgdkHynC(String), 系统管理员(String), admin@clinic.com(String), IT部门(String), 系统管理员(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2025-08-02T16:42:44.396818(LocalDateTime), 127.0.0.1(String), 2025-08-02T10:43:28(LocalDateTime), 0(Integer), 2025-08-02T10:00:28(LocalDateTime), 2025-08-02T10:41:23(LocalDateTime), 1(Long)
2025-08-02 16:42:44 - <==    Updates: 1
2025-08-02 16:42:44 - 用户登录成功: admin
2025-08-02 16:42:44 - 用户登录成功: admin
2025-08-02 16:42:49 - Securing GET /users
2025-08-02 16:42:49 - Securing GET /roles/enabled
2025-08-02 16:42:49 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 16:42:49 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 16:42:49 - ==> Parameters: admin(String)
2025-08-02 16:42:49 - ==> Parameters: admin(String)
2025-08-02 16:42:49 - <==      Total: 1
2025-08-02 16:42:49 - <==      Total: 1
2025-08-02 16:42:49 - Secured GET /users
2025-08-02 16:42:49 - Secured GET /roles/enabled
2025-08-02 16:42:49 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 16:42:49 - 获取用户权限: 1
2025-08-02 16:42:49 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 16:42:49 - ==> Parameters: 1(Long)
2025-08-02 16:42:49 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 16:42:49 - Securing GET /roles/enabled
2025-08-02 16:42:49 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 16:42:49 - ==> Parameters: admin(String)
2025-08-02 16:42:49 - <==      Total: 51
2025-08-02 16:42:49 - <==      Total: 1
2025-08-02 16:42:49 - 权限验证通过
2025-08-02 16:42:49 - Secured GET /roles/enabled
2025-08-02 16:42:49 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 16:42:49 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 16:42:49 - ==> Parameters: 
2025-08-02 16:42:49 - <==      Total: 2
2025-08-02 16:42:49 - 获取用户角色: 1
2025-08-02 16:42:49 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 16:42:49 - ==> Parameters: 1(Long)
2025-08-02 16:42:49 - <==      Total: 1
2025-08-02 16:42:49 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 16:42:49 - ==> Parameters: 1(Long)
2025-08-02 16:42:49 - <==      Total: 2
2025-08-02 16:42:49 - 获取用户角色: 2
2025-08-02 16:42:49 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 16:42:49 - ==> Parameters: 2(Long)
2025-08-02 16:42:49 - <==      Total: 1
2025-08-02 16:42:49 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 16:42:49 - ==> Parameters: 2(Long)
2025-08-02 16:42:49 - <==      Total: 0
2025-08-02 16:42:49 - Securing GET /users
2025-08-02 16:42:49 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 16:42:49 - ==> Parameters: admin(String)
2025-08-02 16:42:49 - <==      Total: 1
2025-08-02 16:42:49 - Secured GET /users
2025-08-02 16:42:49 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 16:42:49 - 获取用户权限: 1
2025-08-02 16:42:49 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 16:42:49 - ==> Parameters: 1(Long)
2025-08-02 16:42:49 - <==      Total: 51
2025-08-02 16:42:49 - 权限验证通过
2025-08-02 16:42:49 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 16:42:49 - ==> Parameters: 
2025-08-02 16:42:49 - <==      Total: 2
2025-08-02 16:42:49 - 获取用户角色: 1
2025-08-02 16:42:49 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 16:42:49 - ==> Parameters: 1(Long)
2025-08-02 16:42:49 - <==      Total: 1
2025-08-02 16:42:49 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 16:42:49 - ==> Parameters: 1(Long)
2025-08-02 16:42:49 - <==      Total: 2
2025-08-02 16:42:49 - 获取用户角色: 2
2025-08-02 16:42:49 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 16:42:49 - ==> Parameters: 2(Long)
2025-08-02 16:42:49 - <==      Total: 1
2025-08-02 16:42:49 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 16:42:49 - ==> Parameters: 2(Long)
2025-08-02 16:42:49 - <==      Total: 0
2025-08-02 17:04:47 - Securing POST /auth/login
2025-08-02 17:04:47 - JWT令牌不以Bearer字符串开头
2025-08-02 17:04:47 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:04:47 - Secured POST /auth/login
2025-08-02 17:04:47 - 收到登录请求: testuser001
2025-08-02 17:04:47 - 用户登录尝试: testuser001
2025-08-02 17:04:47 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:04:47 - ==> Parameters: testuser001(String)
2025-08-02 17:04:47 - <==      Total: 1
2025-08-02 17:04:47 - Failed to authenticate since password does not match stored value
2025-08-02 17:04:47 - 用户登录失败，用户名或密码错误: testuser001
2025-08-02 17:04:47 - ==>  Preparing: UPDATE users SET username=?, password=?, full_name=?, email=?, department=?, position=?, enabled=?, account_non_expired=?, account_non_locked=?, credentials_non_expired=?, last_login_time=?, last_login_ip=?, password_changed_time=?, failed_login_attempts=?, created_at=?, updated_at=? WHERE id=? AND deleted=0
2025-08-02 17:04:47 - ==> Parameters: testuser001(String), $2a$10$0e4AreTgJ9MrXRR4jDCHbuRooOAdrl7KqEc2zQ7gDrdwh/7sZkNca(String), testuser001(String), testuser001@clinic.com(String), 内科(String), 医生(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2025-08-02T16:39:03(LocalDateTime), 127.0.0.1(String), 2025-08-02T14:14:42(LocalDateTime), 1(Integer), 2025-08-02T14:14:42(LocalDateTime), 2025-08-02T14:14:42(LocalDateTime), 2(Long)
2025-08-02 17:04:48 - <==    Updates: 1
2025-08-02 17:04:48 - 登录失败: 用户名或密码错误
2025-08-02 17:05:07 - Securing GET /users
2025-08-02 17:05:07 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:05:07 - ==> Parameters: admin(String)
2025-08-02 17:05:07 - <==      Total: 1
2025-08-02 17:05:07 - Secured GET /users
2025-08-02 17:05:07 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:05:07 - 获取用户权限: 1
2025-08-02 17:05:07 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:05:07 - ==> Parameters: 1(Long)
2025-08-02 17:05:07 - <==      Total: 51
2025-08-02 17:05:07 - 权限验证通过
2025-08-02 17:05:07 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:05:07 - ==> Parameters: 
2025-08-02 17:05:07 - <==      Total: 2
2025-08-02 17:05:07 - 获取用户角色: 1
2025-08-02 17:05:07 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:07 - ==> Parameters: 1(Long)
2025-08-02 17:05:07 - <==      Total: 1
2025-08-02 17:05:07 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:07 - ==> Parameters: 1(Long)
2025-08-02 17:05:07 - <==      Total: 2
2025-08-02 17:05:07 - 获取用户角色: 2
2025-08-02 17:05:07 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:07 - ==> Parameters: 2(Long)
2025-08-02 17:05:07 - <==      Total: 1
2025-08-02 17:05:07 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:07 - ==> Parameters: 2(Long)
2025-08-02 17:05:07 - <==      Total: 1
2025-08-02 17:05:09 - Securing GET /users
2025-08-02 17:05:09 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:05:09 - ==> Parameters: admin(String)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - Secured GET /users
2025-08-02 17:05:09 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:05:09 - 获取用户权限: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 51
2025-08-02 17:05:09 - 权限验证通过
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:05:09 - ==> Parameters: 
2025-08-02 17:05:09 - <==      Total: 2
2025-08-02 17:05:09 - 获取用户角色: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 2
2025-08-02 17:05:09 - 获取用户角色: 2
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:09 - ==> Parameters: 2(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:09 - ==> Parameters: 2(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - Securing GET /users
2025-08-02 17:05:09 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:05:09 - ==> Parameters: admin(String)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - Secured GET /users
2025-08-02 17:05:09 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:05:09 - 获取用户权限: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 51
2025-08-02 17:05:09 - 权限验证通过
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:05:09 - ==> Parameters: 
2025-08-02 17:05:09 - <==      Total: 2
2025-08-02 17:05:09 - 获取用户角色: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 2
2025-08-02 17:05:09 - 获取用户角色: 2
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:09 - ==> Parameters: 2(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:09 - ==> Parameters: 2(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - Securing GET /users
2025-08-02 17:05:09 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:05:09 - ==> Parameters: admin(String)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - Secured GET /users
2025-08-02 17:05:09 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:05:09 - 获取用户权限: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 51
2025-08-02 17:05:09 - 权限验证通过
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:05:09 - ==> Parameters: 
2025-08-02 17:05:09 - <==      Total: 2
2025-08-02 17:05:09 - 获取用户角色: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 2
2025-08-02 17:05:09 - 获取用户角色: 2
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:09 - ==> Parameters: 2(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:09 - ==> Parameters: 2(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - Securing GET /users
2025-08-02 17:05:09 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:05:09 - ==> Parameters: admin(String)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - Secured GET /users
2025-08-02 17:05:09 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:05:09 - 获取用户权限: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 51
2025-08-02 17:05:09 - 权限验证通过
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:05:09 - ==> Parameters: 
2025-08-02 17:05:09 - <==      Total: 2
2025-08-02 17:05:09 - 获取用户角色: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:09 - ==> Parameters: 1(Long)
2025-08-02 17:05:09 - <==      Total: 2
2025-08-02 17:05:09 - 获取用户角色: 2
2025-08-02 17:05:09 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:09 - ==> Parameters: 2(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:09 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:09 - ==> Parameters: 2(Long)
2025-08-02 17:05:09 - <==      Total: 1
2025-08-02 17:05:10 - Securing GET /users
2025-08-02 17:05:10 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:05:10 - ==> Parameters: admin(String)
2025-08-02 17:05:10 - <==      Total: 1
2025-08-02 17:05:10 - Secured GET /users
2025-08-02 17:05:10 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:05:10 - 获取用户权限: 1
2025-08-02 17:05:10 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:05:10 - ==> Parameters: 1(Long)
2025-08-02 17:05:10 - <==      Total: 51
2025-08-02 17:05:10 - 权限验证通过
2025-08-02 17:05:10 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:05:10 - ==> Parameters: 
2025-08-02 17:05:10 - <==      Total: 2
2025-08-02 17:05:10 - 获取用户角色: 1
2025-08-02 17:05:10 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:10 - ==> Parameters: 1(Long)
2025-08-02 17:05:10 - <==      Total: 1
2025-08-02 17:05:10 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:10 - ==> Parameters: 1(Long)
2025-08-02 17:05:10 - <==      Total: 2
2025-08-02 17:05:10 - 获取用户角色: 2
2025-08-02 17:05:10 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:10 - ==> Parameters: 2(Long)
2025-08-02 17:05:10 - <==      Total: 1
2025-08-02 17:05:10 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:10 - ==> Parameters: 2(Long)
2025-08-02 17:05:10 - <==      Total: 1
2025-08-02 17:05:16 - Securing OPTIONS /users/2/disable
2025-08-02 17:05:16 - Securing PUT /users/2/disable
2025-08-02 17:05:16 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:05:16 - ==> Parameters: admin(String)
2025-08-02 17:05:16 - <==      Total: 1
2025-08-02 17:05:16 - Secured PUT /users/2/disable
2025-08-02 17:05:16 - 检查权限: USER_UPDATE (逻辑: OR)
2025-08-02 17:05:16 - 获取用户权限: 1
2025-08-02 17:05:16 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:05:16 - ==> Parameters: 1(Long)
2025-08-02 17:05:16 - <==      Total: 51
2025-08-02 17:05:16 - 权限验证通过
2025-08-02 17:05:16 - 收到禁用用户请求: 2
2025-08-02 17:05:16 - 禁用用户: 2
2025-08-02 17:05:16 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:16 - ==> Parameters: 2(Long)
2025-08-02 17:05:16 - <==      Total: 1
2025-08-02 17:05:16 - ==>  Preparing: UPDATE users SET username=?, password=?, full_name=?, email=?, department=?, position=?, enabled=?, account_non_expired=?, account_non_locked=?, credentials_non_expired=?, last_login_time=?, last_login_ip=?, password_changed_time=?, failed_login_attempts=?, created_at=?, updated_at=? WHERE id=? AND deleted=0
2025-08-02 17:05:16 - ==> Parameters: testuser001(String), $2a$10$0e4AreTgJ9MrXRR4jDCHbuRooOAdrl7KqEc2zQ7gDrdwh/7sZkNca(String), testuser001(String), testuser001@clinic.com(String), 内科(String), 医生(String), false(Boolean), true(Boolean), true(Boolean), true(Boolean), 2025-08-02T16:39:03(LocalDateTime), 127.0.0.1(String), 2025-08-02T14:14:42(LocalDateTime), 0(Integer), 2025-08-02T14:14:42(LocalDateTime), 2025-08-02T14:14:42(LocalDateTime), 2(Long)
2025-08-02 17:05:16 - <==    Updates: 1
2025-08-02 17:05:16 - 用户禁用成功: 2
2025-08-02 17:05:16 - 用户禁用成功: 2
2025-08-02 17:05:16 - Securing GET /users
2025-08-02 17:05:16 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:05:16 - ==> Parameters: admin(String)
2025-08-02 17:05:16 - <==      Total: 1
2025-08-02 17:05:17 - Secured GET /users
2025-08-02 17:05:17 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:05:17 - 获取用户权限: 1
2025-08-02 17:05:17 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:05:17 - ==> Parameters: 1(Long)
2025-08-02 17:05:17 - <==      Total: 51
2025-08-02 17:05:17 - 权限验证通过
2025-08-02 17:05:17 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:05:17 - ==> Parameters: 
2025-08-02 17:05:17 - <==      Total: 2
2025-08-02 17:05:17 - 获取用户角色: 1
2025-08-02 17:05:17 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:17 - ==> Parameters: 1(Long)
2025-08-02 17:05:17 - <==      Total: 1
2025-08-02 17:05:17 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:17 - ==> Parameters: 1(Long)
2025-08-02 17:05:17 - <==      Total: 2
2025-08-02 17:05:17 - 获取用户角色: 2
2025-08-02 17:05:17 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:17 - ==> Parameters: 2(Long)
2025-08-02 17:05:17 - <==      Total: 1
2025-08-02 17:05:17 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:17 - ==> Parameters: 2(Long)
2025-08-02 17:05:17 - <==      Total: 1
2025-08-02 17:05:20 - Securing OPTIONS /users/2/enable
2025-08-02 17:05:20 - Securing PUT /users/2/enable
2025-08-02 17:05:20 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:05:20 - ==> Parameters: admin(String)
2025-08-02 17:05:20 - <==      Total: 1
2025-08-02 17:05:20 - Secured PUT /users/2/enable
2025-08-02 17:05:20 - 检查权限: USER_UPDATE (逻辑: OR)
2025-08-02 17:05:20 - 获取用户权限: 1
2025-08-02 17:05:20 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:05:20 - ==> Parameters: 1(Long)
2025-08-02 17:05:20 - <==      Total: 51
2025-08-02 17:05:20 - 权限验证通过
2025-08-02 17:05:20 - 收到启用用户请求: 2
2025-08-02 17:05:20 - 启用用户: 2
2025-08-02 17:05:20 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:20 - ==> Parameters: 2(Long)
2025-08-02 17:05:20 - <==      Total: 1
2025-08-02 17:05:20 - ==>  Preparing: UPDATE users SET username=?, password=?, full_name=?, email=?, department=?, position=?, enabled=?, account_non_expired=?, account_non_locked=?, credentials_non_expired=?, last_login_time=?, last_login_ip=?, password_changed_time=?, failed_login_attempts=?, created_at=?, updated_at=? WHERE id=? AND deleted=0
2025-08-02 17:05:20 - ==> Parameters: testuser001(String), $2a$10$0e4AreTgJ9MrXRR4jDCHbuRooOAdrl7KqEc2zQ7gDrdwh/7sZkNca(String), testuser001(String), testuser001@clinic.com(String), 内科(String), 医生(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2025-08-02T16:39:03(LocalDateTime), 127.0.0.1(String), 2025-08-02T14:14:42(LocalDateTime), 0(Integer), 2025-08-02T14:14:42(LocalDateTime), 2025-08-02T14:14:42(LocalDateTime), 2(Long)
2025-08-02 17:05:20 - <==    Updates: 1
2025-08-02 17:05:20 - 用户启用成功: 2
2025-08-02 17:05:20 - 用户启用成功: 2
2025-08-02 17:05:20 - Securing GET /users
2025-08-02 17:05:20 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:05:20 - ==> Parameters: admin(String)
2025-08-02 17:05:20 - <==      Total: 1
2025-08-02 17:05:20 - Secured GET /users
2025-08-02 17:05:20 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:05:20 - 获取用户权限: 1
2025-08-02 17:05:20 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:05:20 - ==> Parameters: 1(Long)
2025-08-02 17:05:20 - <==      Total: 51
2025-08-02 17:05:20 - 权限验证通过
2025-08-02 17:05:20 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:05:20 - ==> Parameters: 
2025-08-02 17:05:20 - <==      Total: 2
2025-08-02 17:05:20 - 获取用户角色: 1
2025-08-02 17:05:20 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:20 - ==> Parameters: 1(Long)
2025-08-02 17:05:20 - <==      Total: 1
2025-08-02 17:05:20 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:20 - ==> Parameters: 1(Long)
2025-08-02 17:05:20 - <==      Total: 2
2025-08-02 17:05:20 - 获取用户角色: 2
2025-08-02 17:05:20 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:05:20 - ==> Parameters: 2(Long)
2025-08-02 17:05:20 - <==      Total: 1
2025-08-02 17:05:20 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:05:20 - ==> Parameters: 2(Long)
2025-08-02 17:05:20 - <==      Total: 1
2025-08-02 17:09:13 - Securing OPTIONS /users
2025-08-02 17:09:13 - Securing POST /users
2025-08-02 17:09:13 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:09:13 - ==> Parameters: admin(String)
2025-08-02 17:09:13 - <==      Total: 1
2025-08-02 17:09:13 - Secured POST /users
2025-08-02 17:09:13 - 检查权限: USER_CREATE (逻辑: OR)
2025-08-02 17:09:13 - 获取用户权限: 1
2025-08-02 17:09:13 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:09:13 - ==> Parameters: 1(Long)
2025-08-02 17:09:13 - <==      Total: 51
2025-08-02 17:09:13 - 权限验证通过
2025-08-02 17:09:13 - 收到创建用户请求: testuser002
2025-08-02 17:09:13 - 创建新用户: testuser002
2025-08-02 17:09:13 - ==>  Preparing: SELECT COUNT( * ) AS total FROM users WHERE deleted=0 AND (username = ?)
2025-08-02 17:09:13 - ==> Parameters: testuser002(String)
2025-08-02 17:09:13 - <==      Total: 1
2025-08-02 17:09:13 - ==>  Preparing: SELECT COUNT( * ) AS total FROM users WHERE deleted=0 AND (email = ?)
2025-08-02 17:09:13 - ==> Parameters: testuser002@gmail.com(String)
2025-08-02 17:09:13 - <==      Total: 1
2025-08-02 17:09:13 - ==>  Preparing: INSERT INTO users ( username, password, full_name, email, department, position, enabled, account_non_expired, account_non_locked, credentials_non_expired, password_changed_time, failed_login_attempts, created_at, updated_at, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-08-02 17:09:13 - ==> Parameters: testuser002(String), $2a$10$ftjyqnB3hr.QJbYxPuCB6OdiwaD6c0CuNxXiWitbcCqrFKLrbMtJW(String), testuser002(String), testuser002@gmail.com(String), 外科(String), 医生(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2025-08-02T17:09:13.945846(LocalDateTime), 0(Integer), 2025-08-02T17:09:13.947420(LocalDateTime), 2025-08-02T17:09:13.947496(LocalDateTime), false(Boolean)
2025-08-02 17:09:13 - <==    Updates: 1
2025-08-02 17:09:13 - 用户创建成功: testuser002, ID: 3
2025-08-02 17:09:13 - 获取用户角色: 3
2025-08-02 17:09:13 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:13 - ==> Parameters: 3(Long)
2025-08-02 17:09:13 - <==      Total: 1
2025-08-02 17:09:13 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:09:13 - ==> Parameters: 3(Long)
2025-08-02 17:09:13 - <==      Total: 0
2025-08-02 17:09:13 - 用户创建成功: testuser002
2025-08-02 17:09:13 - Securing GET /users
2025-08-02 17:09:13 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:09:13 - ==> Parameters: admin(String)
2025-08-02 17:09:13 - <==      Total: 1
2025-08-02 17:09:13 - Secured GET /users
2025-08-02 17:09:13 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:09:13 - 获取用户权限: 1
2025-08-02 17:09:13 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:09:13 - ==> Parameters: 1(Long)
2025-08-02 17:09:13 - <==      Total: 51
2025-08-02 17:09:13 - 权限验证通过
2025-08-02 17:09:13 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:09:13 - ==> Parameters: 
2025-08-02 17:09:13 - <==      Total: 3
2025-08-02 17:09:13 - 获取用户角色: 1
2025-08-02 17:09:13 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:13 - ==> Parameters: 1(Long)
2025-08-02 17:09:13 - <==      Total: 1
2025-08-02 17:09:13 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:09:13 - ==> Parameters: 1(Long)
2025-08-02 17:09:13 - <==      Total: 2
2025-08-02 17:09:13 - 获取用户角色: 2
2025-08-02 17:09:13 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:13 - ==> Parameters: 2(Long)
2025-08-02 17:09:13 - <==      Total: 1
2025-08-02 17:09:13 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:09:13 - ==> Parameters: 2(Long)
2025-08-02 17:09:13 - <==      Total: 1
2025-08-02 17:09:13 - 获取用户角色: 3
2025-08-02 17:09:13 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:13 - ==> Parameters: 3(Long)
2025-08-02 17:09:13 - <==      Total: 1
2025-08-02 17:09:13 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:09:13 - ==> Parameters: 3(Long)
2025-08-02 17:09:13 - <==      Total: 0
2025-08-02 17:09:27 - Securing OPTIONS /users/3
2025-08-02 17:09:27 - Securing PUT /users/3
2025-08-02 17:09:27 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:09:27 - ==> Parameters: admin(String)
2025-08-02 17:09:27 - <==      Total: 1
2025-08-02 17:09:27 - Secured PUT /users/3
2025-08-02 17:09:27 - 检查权限: USER_UPDATE (逻辑: OR)
2025-08-02 17:09:27 - 获取用户权限: 1
2025-08-02 17:09:27 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:09:27 - ==> Parameters: 1(Long)
2025-08-02 17:09:27 - <==      Total: 51
2025-08-02 17:09:27 - 权限验证通过
2025-08-02 17:09:27 - 收到更新用户请求: 3
2025-08-02 17:09:27 - 更新用户信息: 3
2025-08-02 17:09:27 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:27 - ==> Parameters: 3(Long)
2025-08-02 17:09:27 - <==      Total: 1
2025-08-02 17:09:27 - ==>  Preparing: UPDATE users SET username=?, password=?, full_name=?, email=?, phone=?, department=?, position=?, enabled=?, account_non_expired=?, account_non_locked=?, credentials_non_expired=?, password_changed_time=?, failed_login_attempts=?, created_at=?, updated_at=? WHERE id=? AND deleted=0
2025-08-02 17:09:27 - ==> Parameters: testuser002(String), $2a$10$ftjyqnB3hr.QJbYxPuCB6OdiwaD6c0CuNxXiWitbcCqrFKLrbMtJW(String), testuser002(String), testuser002@gmail.com(String), 13307981734(String), 外科(String), 医生(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2025-08-02T17:09:14(LocalDateTime), 0(Integer), 2025-08-02T17:09:14(LocalDateTime), 2025-08-02T17:09:14(LocalDateTime), 3(Long)
2025-08-02 17:09:27 - <==    Updates: 1
2025-08-02 17:09:27 - 用户信息更新成功: 3
2025-08-02 17:09:27 - 获取用户角色: 3
2025-08-02 17:09:27 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:27 - ==> Parameters: 3(Long)
2025-08-02 17:09:27 - <==      Total: 1
2025-08-02 17:09:27 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:09:27 - ==> Parameters: 3(Long)
2025-08-02 17:09:27 - <==      Total: 0
2025-08-02 17:09:27 - 用户信息更新成功: 3
2025-08-02 17:09:27 - Securing GET /users
2025-08-02 17:09:27 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:09:27 - ==> Parameters: admin(String)
2025-08-02 17:09:27 - <==      Total: 1
2025-08-02 17:09:27 - Secured GET /users
2025-08-02 17:09:27 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:09:27 - 获取用户权限: 1
2025-08-02 17:09:27 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:09:27 - ==> Parameters: 1(Long)
2025-08-02 17:09:27 - <==      Total: 51
2025-08-02 17:09:27 - 权限验证通过
2025-08-02 17:09:27 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:09:27 - ==> Parameters: 
2025-08-02 17:09:27 - <==      Total: 3
2025-08-02 17:09:27 - 获取用户角色: 1
2025-08-02 17:09:27 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:27 - ==> Parameters: 1(Long)
2025-08-02 17:09:27 - <==      Total: 1
2025-08-02 17:09:27 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:09:27 - ==> Parameters: 1(Long)
2025-08-02 17:09:27 - <==      Total: 2
2025-08-02 17:09:27 - 获取用户角色: 2
2025-08-02 17:09:27 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:27 - ==> Parameters: 2(Long)
2025-08-02 17:09:27 - <==      Total: 1
2025-08-02 17:09:27 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:09:27 - ==> Parameters: 2(Long)
2025-08-02 17:09:27 - <==      Total: 1
2025-08-02 17:09:27 - 获取用户角色: 3
2025-08-02 17:09:27 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:27 - ==> Parameters: 3(Long)
2025-08-02 17:09:27 - <==      Total: 1
2025-08-02 17:09:27 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:09:27 - ==> Parameters: 3(Long)
2025-08-02 17:09:27 - <==      Total: 0
2025-08-02 17:09:43 - Securing GET /users
2025-08-02 17:09:43 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:09:43 - ==> Parameters: admin(String)
2025-08-02 17:09:43 - <==      Total: 1
2025-08-02 17:09:43 - Secured GET /users
2025-08-02 17:09:43 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:09:43 - 获取用户权限: 1
2025-08-02 17:09:43 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:09:43 - ==> Parameters: 1(Long)
2025-08-02 17:09:43 - <==      Total: 51
2025-08-02 17:09:43 - 权限验证通过
2025-08-02 17:09:43 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:09:43 - ==> Parameters: 
2025-08-02 17:09:43 - <==      Total: 3
2025-08-02 17:09:43 - 获取用户角色: 1
2025-08-02 17:09:43 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:43 - ==> Parameters: 1(Long)
2025-08-02 17:09:43 - <==      Total: 1
2025-08-02 17:09:43 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:09:43 - ==> Parameters: 1(Long)
2025-08-02 17:09:43 - <==      Total: 2
2025-08-02 17:09:43 - 获取用户角色: 2
2025-08-02 17:09:43 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:43 - ==> Parameters: 2(Long)
2025-08-02 17:09:43 - <==      Total: 1
2025-08-02 17:09:43 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:09:43 - ==> Parameters: 2(Long)
2025-08-02 17:09:43 - <==      Total: 1
2025-08-02 17:09:43 - 获取用户角色: 3
2025-08-02 17:09:43 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:09:43 - ==> Parameters: 3(Long)
2025-08-02 17:09:43 - <==      Total: 1
2025-08-02 17:09:43 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:09:43 - ==> Parameters: 3(Long)
2025-08-02 17:09:43 - <==      Total: 0
2025-08-02 17:09:47 - Securing OPTIONS /roles/users/3
2025-08-02 17:09:47 - Securing GET /roles/users/3
2025-08-02 17:09:47 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:09:47 - ==> Parameters: admin(String)
2025-08-02 17:09:47 - <==      Total: 1
2025-08-02 17:09:47 - Secured GET /roles/users/3
2025-08-02 17:09:47 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/users/3.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 17:10:10 - Securing GET /users
2025-08-02 17:10:10 - Securing GET /roles/enabled
2025-08-02 17:10:10 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:10 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:10 - ==> Parameters: admin(String)
2025-08-02 17:10:10 - ==> Parameters: admin(String)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - Secured GET /roles/enabled
2025-08-02 17:10:10 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 17:10:10 - Securing GET /roles/enabled
2025-08-02 17:10:10 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:10 - ==> Parameters: admin(String)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - Secured GET /roles/enabled
2025-08-02 17:10:10 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - Secured GET /users
2025-08-02 17:10:10 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:10:10 - 获取用户权限: 1
2025-08-02 17:10:10 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:10:10 - ==> Parameters: 1(Long)
2025-08-02 17:10:10 - <==      Total: 51
2025-08-02 17:10:10 - 权限验证通过
2025-08-02 17:10:10 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:10:10 - ==> Parameters: 
2025-08-02 17:10:10 - <==      Total: 3
2025-08-02 17:10:10 - 获取用户角色: 1
2025-08-02 17:10:10 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:10 - ==> Parameters: 1(Long)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:10 - ==> Parameters: 1(Long)
2025-08-02 17:10:10 - <==      Total: 2
2025-08-02 17:10:10 - 获取用户角色: 2
2025-08-02 17:10:10 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:10 - ==> Parameters: 2(Long)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:10 - ==> Parameters: 2(Long)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - 获取用户角色: 3
2025-08-02 17:10:10 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:10 - ==> Parameters: 3(Long)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:10 - ==> Parameters: 3(Long)
2025-08-02 17:10:10 - <==      Total: 0
2025-08-02 17:10:10 - Securing GET /users
2025-08-02 17:10:10 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:10 - ==> Parameters: admin(String)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - Secured GET /users
2025-08-02 17:10:10 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:10:10 - 获取用户权限: 1
2025-08-02 17:10:10 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:10:10 - ==> Parameters: 1(Long)
2025-08-02 17:10:10 - <==      Total: 51
2025-08-02 17:10:10 - 权限验证通过
2025-08-02 17:10:10 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:10:10 - ==> Parameters: 
2025-08-02 17:10:10 - <==      Total: 3
2025-08-02 17:10:10 - 获取用户角色: 1
2025-08-02 17:10:10 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:10 - ==> Parameters: 1(Long)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:10 - ==> Parameters: 1(Long)
2025-08-02 17:10:10 - <==      Total: 2
2025-08-02 17:10:10 - 获取用户角色: 2
2025-08-02 17:10:10 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:10 - ==> Parameters: 2(Long)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:10 - ==> Parameters: 2(Long)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - 获取用户角色: 3
2025-08-02 17:10:10 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:10 - ==> Parameters: 3(Long)
2025-08-02 17:10:10 - <==      Total: 1
2025-08-02 17:10:10 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:10 - ==> Parameters: 3(Long)
2025-08-02 17:10:10 - <==      Total: 0
2025-08-02 17:10:24 - Securing GET /users
2025-08-02 17:10:24 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:24 - ==> Parameters: admin(String)
2025-08-02 17:10:24 - <==      Total: 1
2025-08-02 17:10:24 - Secured GET /users
2025-08-02 17:10:24 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:10:24 - 获取用户权限: 1
2025-08-02 17:10:24 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:10:24 - ==> Parameters: 1(Long)
2025-08-02 17:10:24 - <==      Total: 51
2025-08-02 17:10:24 - 权限验证通过
2025-08-02 17:10:24 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:10:24 - ==> Parameters: 
2025-08-02 17:10:24 - <==      Total: 3
2025-08-02 17:10:24 - 获取用户角色: 1
2025-08-02 17:10:24 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:24 - ==> Parameters: 1(Long)
2025-08-02 17:10:24 - <==      Total: 1
2025-08-02 17:10:24 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:24 - ==> Parameters: 1(Long)
2025-08-02 17:10:24 - <==      Total: 2
2025-08-02 17:10:24 - 获取用户角色: 2
2025-08-02 17:10:24 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:24 - ==> Parameters: 2(Long)
2025-08-02 17:10:24 - <==      Total: 1
2025-08-02 17:10:24 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:24 - ==> Parameters: 2(Long)
2025-08-02 17:10:24 - <==      Total: 1
2025-08-02 17:10:24 - 获取用户角色: 3
2025-08-02 17:10:24 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:24 - ==> Parameters: 3(Long)
2025-08-02 17:10:24 - <==      Total: 1
2025-08-02 17:10:24 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:24 - ==> Parameters: 3(Long)
2025-08-02 17:10:24 - <==      Total: 0
2025-08-02 17:10:31 - Securing OPTIONS /users/3/disable
2025-08-02 17:10:31 - Securing PUT /users/3/disable
2025-08-02 17:10:31 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:31 - ==> Parameters: admin(String)
2025-08-02 17:10:31 - <==      Total: 1
2025-08-02 17:10:31 - Secured PUT /users/3/disable
2025-08-02 17:10:31 - 检查权限: USER_UPDATE (逻辑: OR)
2025-08-02 17:10:31 - 获取用户权限: 1
2025-08-02 17:10:31 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:10:31 - ==> Parameters: 1(Long)
2025-08-02 17:10:31 - <==      Total: 51
2025-08-02 17:10:31 - 权限验证通过
2025-08-02 17:10:31 - 收到禁用用户请求: 3
2025-08-02 17:10:31 - 禁用用户: 3
2025-08-02 17:10:31 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:31 - ==> Parameters: 3(Long)
2025-08-02 17:10:31 - <==      Total: 1
2025-08-02 17:10:31 - ==>  Preparing: UPDATE users SET username=?, password=?, full_name=?, email=?, phone=?, department=?, position=?, enabled=?, account_non_expired=?, account_non_locked=?, credentials_non_expired=?, password_changed_time=?, failed_login_attempts=?, created_at=?, updated_at=? WHERE id=? AND deleted=0
2025-08-02 17:10:31 - ==> Parameters: testuser002(String), $2a$10$ftjyqnB3hr.QJbYxPuCB6OdiwaD6c0CuNxXiWitbcCqrFKLrbMtJW(String), testuser002(String), testuser002@gmail.com(String), 13307981734(String), 外科(String), 医生(String), false(Boolean), true(Boolean), true(Boolean), true(Boolean), 2025-08-02T17:09:14(LocalDateTime), 0(Integer), 2025-08-02T17:09:14(LocalDateTime), 2025-08-02T17:09:14(LocalDateTime), 3(Long)
2025-08-02 17:10:31 - <==    Updates: 1
2025-08-02 17:10:31 - 用户禁用成功: 3
2025-08-02 17:10:31 - 用户禁用成功: 3
2025-08-02 17:10:31 - Securing GET /users
2025-08-02 17:10:31 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:31 - ==> Parameters: admin(String)
2025-08-02 17:10:31 - <==      Total: 1
2025-08-02 17:10:31 - Secured GET /users
2025-08-02 17:10:31 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:10:31 - 获取用户权限: 1
2025-08-02 17:10:31 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:10:31 - ==> Parameters: 1(Long)
2025-08-02 17:10:31 - <==      Total: 51
2025-08-02 17:10:31 - 权限验证通过
2025-08-02 17:10:31 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:10:31 - ==> Parameters: 
2025-08-02 17:10:31 - <==      Total: 3
2025-08-02 17:10:31 - 获取用户角色: 1
2025-08-02 17:10:31 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:31 - ==> Parameters: 1(Long)
2025-08-02 17:10:31 - <==      Total: 1
2025-08-02 17:10:31 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:31 - ==> Parameters: 1(Long)
2025-08-02 17:10:31 - <==      Total: 2
2025-08-02 17:10:31 - 获取用户角色: 2
2025-08-02 17:10:31 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:31 - ==> Parameters: 2(Long)
2025-08-02 17:10:31 - <==      Total: 1
2025-08-02 17:10:31 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:31 - ==> Parameters: 2(Long)
2025-08-02 17:10:31 - <==      Total: 1
2025-08-02 17:10:31 - 获取用户角色: 3
2025-08-02 17:10:31 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:31 - ==> Parameters: 3(Long)
2025-08-02 17:10:31 - <==      Total: 1
2025-08-02 17:10:31 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:31 - ==> Parameters: 3(Long)
2025-08-02 17:10:31 - <==      Total: 0
2025-08-02 17:10:35 - Securing GET /users
2025-08-02 17:10:35 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:35 - ==> Parameters: admin(String)
2025-08-02 17:10:35 - <==      Total: 1
2025-08-02 17:10:35 - Secured GET /users
2025-08-02 17:10:35 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:10:35 - 获取用户权限: 1
2025-08-02 17:10:35 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:10:35 - ==> Parameters: 1(Long)
2025-08-02 17:10:35 - <==      Total: 51
2025-08-02 17:10:35 - 权限验证通过
2025-08-02 17:10:35 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:10:35 - ==> Parameters: 
2025-08-02 17:10:35 - <==      Total: 3
2025-08-02 17:10:35 - 获取用户角色: 1
2025-08-02 17:10:35 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:35 - ==> Parameters: 1(Long)
2025-08-02 17:10:35 - <==      Total: 1
2025-08-02 17:10:35 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:35 - ==> Parameters: 1(Long)
2025-08-02 17:10:35 - <==      Total: 2
2025-08-02 17:10:35 - 获取用户角色: 2
2025-08-02 17:10:35 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:35 - ==> Parameters: 2(Long)
2025-08-02 17:10:35 - <==      Total: 1
2025-08-02 17:10:35 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:35 - ==> Parameters: 2(Long)
2025-08-02 17:10:35 - <==      Total: 1
2025-08-02 17:10:35 - 获取用户角色: 3
2025-08-02 17:10:35 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:35 - ==> Parameters: 3(Long)
2025-08-02 17:10:35 - <==      Total: 1
2025-08-02 17:10:35 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:35 - ==> Parameters: 3(Long)
2025-08-02 17:10:35 - <==      Total: 0
2025-08-02 17:10:44 - Securing GET /roles/enabled
2025-08-02 17:10:44 - Securing GET /users
2025-08-02 17:10:44 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:44 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:44 - ==> Parameters: admin(String)
2025-08-02 17:10:44 - ==> Parameters: admin(String)
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - Secured GET /users
2025-08-02 17:10:44 - Secured GET /roles/enabled
2025-08-02 17:10:44 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:10:44 - 获取用户权限: 1
2025-08-02 17:10:44 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:10:44 - ==> Parameters: 1(Long)
2025-08-02 17:10:44 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 17:10:44 - <==      Total: 51
2025-08-02 17:10:44 - 权限验证通过
2025-08-02 17:10:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:10:44 - ==> Parameters: 
2025-08-02 17:10:44 - Securing GET /roles/enabled
2025-08-02 17:10:44 - <==      Total: 3
2025-08-02 17:10:44 - 获取用户角色: 1
2025-08-02 17:10:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:44 - ==> Parameters: 1(Long)
2025-08-02 17:10:44 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:44 - ==> Parameters: admin(String)
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:44 - ==> Parameters: 1(Long)
2025-08-02 17:10:44 - <==      Total: 2
2025-08-02 17:10:44 - 获取用户角色: 2
2025-08-02 17:10:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:44 - ==> Parameters: 2(Long)
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - Secured GET /roles/enabled
2025-08-02 17:10:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:44 - ==> Parameters: 2(Long)
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - 获取用户角色: 3
2025-08-02 17:10:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:44 - ==> Parameters: 3(Long)
2025-08-02 17:10:44 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:44 - ==> Parameters: 3(Long)
2025-08-02 17:10:44 - <==      Total: 0
2025-08-02 17:10:44 - Securing GET /users
2025-08-02 17:10:44 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:10:44 - ==> Parameters: admin(String)
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - Secured GET /users
2025-08-02 17:10:44 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:10:44 - 获取用户权限: 1
2025-08-02 17:10:44 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:10:44 - ==> Parameters: 1(Long)
2025-08-02 17:10:44 - <==      Total: 51
2025-08-02 17:10:44 - 权限验证通过
2025-08-02 17:10:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:10:44 - ==> Parameters: 
2025-08-02 17:10:44 - <==      Total: 3
2025-08-02 17:10:44 - 获取用户角色: 1
2025-08-02 17:10:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:44 - ==> Parameters: 1(Long)
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:44 - ==> Parameters: 1(Long)
2025-08-02 17:10:44 - <==      Total: 2
2025-08-02 17:10:44 - 获取用户角色: 2
2025-08-02 17:10:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:44 - ==> Parameters: 2(Long)
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:44 - ==> Parameters: 2(Long)
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - 获取用户角色: 3
2025-08-02 17:10:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:10:44 - ==> Parameters: 3(Long)
2025-08-02 17:10:44 - <==      Total: 1
2025-08-02 17:10:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:10:44 - ==> Parameters: 3(Long)
2025-08-02 17:10:44 - <==      Total: 0
2025-08-02 17:11:03 - Securing GET /roles/enabled
2025-08-02 17:11:03 - Securing GET /users
2025-08-02 17:11:03 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:11:03 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:11:03 - ==> Parameters: admin(String)
2025-08-02 17:11:03 - ==> Parameters: admin(String)
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - Secured GET /users
2025-08-02 17:11:03 - Secured GET /roles/enabled
2025-08-02 17:11:03 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:11:03 - 获取用户权限: 1
2025-08-02 17:11:03 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:11:03 - ==> Parameters: 1(Long)
2025-08-02 17:11:03 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 17:11:03 - <==      Total: 51
2025-08-02 17:11:03 - 权限验证通过
2025-08-02 17:11:03 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:11:03 - ==> Parameters: 
2025-08-02 17:11:03 - Securing GET /roles/enabled
2025-08-02 17:11:03 - <==      Total: 3
2025-08-02 17:11:03 - 获取用户角色: 1
2025-08-02 17:11:03 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:11:03 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:11:03 - ==> Parameters: admin(String)
2025-08-02 17:11:03 - ==> Parameters: 1(Long)
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - Secured GET /roles/enabled
2025-08-02 17:11:03 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:11:03 - ==> Parameters: 1(Long)
2025-08-02 17:11:03 - <==      Total: 2
2025-08-02 17:11:03 - 获取用户角色: 2
2025-08-02 17:11:03 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:11:03 - ==> Parameters: 2(Long)
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:11:03 - ==> Parameters: 2(Long)
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - 获取用户角色: 3
2025-08-02 17:11:03 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:11:03 - ==> Parameters: 3(Long)
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:11:03 - ==> Parameters: 3(Long)
2025-08-02 17:11:03 - <==      Total: 0
2025-08-02 17:11:03 - Securing GET /users
2025-08-02 17:11:03 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 17:11:03 - ==> Parameters: admin(String)
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - Secured GET /users
2025-08-02 17:11:03 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 17:11:03 - 获取用户权限: 1
2025-08-02 17:11:03 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 17:11:03 - ==> Parameters: 1(Long)
2025-08-02 17:11:03 - <==      Total: 51
2025-08-02 17:11:03 - 权限验证通过
2025-08-02 17:11:03 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 17:11:03 - ==> Parameters: 
2025-08-02 17:11:03 - <==      Total: 3
2025-08-02 17:11:03 - 获取用户角色: 1
2025-08-02 17:11:03 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:11:03 - ==> Parameters: 1(Long)
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:11:03 - ==> Parameters: 1(Long)
2025-08-02 17:11:03 - <==      Total: 2
2025-08-02 17:11:03 - 获取用户角色: 2
2025-08-02 17:11:03 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:11:03 - ==> Parameters: 2(Long)
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:11:03 - ==> Parameters: 2(Long)
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - 获取用户角色: 3
2025-08-02 17:11:03 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 17:11:03 - ==> Parameters: 3(Long)
2025-08-02 17:11:03 - <==      Total: 1
2025-08-02 17:11:03 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 17:11:03 - ==> Parameters: 3(Long)
2025-08-02 17:11:03 - <==      Total: 0
2025-08-02 17:11:10 - Securing POST /auth/login
2025-08-02 17:11:10 - JWT令牌不以Bearer字符串开头
2025-08-02 17:11:10 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:11:10 - Secured POST /auth/login
2025-08-02 17:11:10 - Validation failed: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> org.me.joy.clinic.controller.AuthController.login(org.me.joy.clinic.dto.LoginRequest): [Field error in object 'loginRequest' on field 'password': rejected value [admin]; codes [Size.loginRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequest.password,password]; arguments []; default message [password],100,6]; default message [密码长度必须在6-100个字符之间]] 
2025-08-02 17:12:45 - Securing GET /users
2025-08-02 17:12:45 - 无法获取JWT令牌
java.lang.IllegalArgumentException: Invalid JWT token
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:68)
	at org.me.joy.clinic.security.JwtUtil.extractClaim(JwtUtil.java:53)
	at org.me.joy.clinic.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.jsonwebtoken.ExpiredJwtException: JWT expired 1829 milliseconds ago at 2025-08-02T09:12:44.000Z. Current time: 2025-08-02T09:12:45.829Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:682)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:65)
	... 58 common frames omitted
2025-08-02 17:12:45 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:12:45 - Pre-authenticated entry point called. Rejecting access
2025-08-02 17:12:45 - Securing GET /error
2025-08-02 17:12:45 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:12:45 - Pre-authenticated entry point called. Rejecting access
2025-08-02 17:15:02 - Securing OPTIONS /auth/validate
2025-08-02 17:15:02 - Securing GET /roles/enabled
2025-08-02 17:15:02 - Securing GET /users
2025-08-02 17:15:02 - Securing OPTIONS /auth/validate
2025-08-02 17:15:02 - Securing GET /auth/validate
2025-08-02 17:15:02 - 无法获取JWT令牌
java.lang.IllegalArgumentException: Invalid JWT token
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:68)
	at org.me.joy.clinic.security.JwtUtil.extractClaim(JwtUtil.java:53)
	at org.me.joy.clinic.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.jsonwebtoken.ExpiredJwtException: JWT expired 138778 milliseconds ago at 2025-08-02T09:12:44.000Z. Current time: 2025-08-02T09:15:02.778Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:682)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:65)
	... 58 common frames omitted
2025-08-02 17:15:02 - 无法获取JWT令牌
java.lang.IllegalArgumentException: Invalid JWT token
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:68)
	at org.me.joy.clinic.security.JwtUtil.extractClaim(JwtUtil.java:53)
	at org.me.joy.clinic.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.jsonwebtoken.ExpiredJwtException: JWT expired 138778 milliseconds ago at 2025-08-02T09:12:44.000Z. Current time: 2025-08-02T09:15:02.778Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:682)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:65)
	... 58 common frames omitted
2025-08-02 17:15:02 - 无法获取JWT令牌
java.lang.IllegalArgumentException: Invalid JWT token
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:68)
	at org.me.joy.clinic.security.JwtUtil.extractClaim(JwtUtil.java:53)
	at org.me.joy.clinic.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.jsonwebtoken.ExpiredJwtException: JWT expired 138778 milliseconds ago at 2025-08-02T09:12:44.000Z. Current time: 2025-08-02T09:15:02.778Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:682)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:65)
	... 58 common frames omitted
2025-08-02 17:15:02 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:15:02 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:15:02 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:15:02 - Secured GET /auth/validate
2025-08-02 17:15:02 - Pre-authenticated entry point called. Rejecting access
2025-08-02 17:15:02 - Pre-authenticated entry point called. Rejecting access
2025-08-02 17:15:02 - Securing GET /error
2025-08-02 17:15:02 - Securing GET /error
2025-08-02 17:15:02 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:15:02 - Pre-authenticated entry point called. Rejecting access
2025-08-02 17:15:02 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:15:02 - Pre-authenticated entry point called. Rejecting access
2025-08-02 17:15:02 - Securing GET /roles/enabled
2025-08-02 17:15:02 - Securing GET /users
2025-08-02 17:15:02 - 无法获取JWT令牌
java.lang.IllegalArgumentException: Invalid JWT token
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:68)
	at org.me.joy.clinic.security.JwtUtil.extractClaim(JwtUtil.java:53)
	at org.me.joy.clinic.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.jsonwebtoken.ExpiredJwtException: JWT expired 138786 milliseconds ago at 2025-08-02T09:12:44.000Z. Current time: 2025-08-02T09:15:02.786Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:682)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:65)
	... 58 common frames omitted
2025-08-02 17:15:02 - 无法获取JWT令牌
java.lang.IllegalArgumentException: Invalid JWT token
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:68)
	at org.me.joy.clinic.security.JwtUtil.extractClaim(JwtUtil.java:53)
	at org.me.joy.clinic.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.jsonwebtoken.ExpiredJwtException: JWT expired 138787 milliseconds ago at 2025-08-02T09:12:44.000Z. Current time: 2025-08-02T09:15:02.787Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:682)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:65)
	... 58 common frames omitted
2025-08-02 17:15:02 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:15:02 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:15:02 - Pre-authenticated entry point called. Rejecting access
2025-08-02 17:15:02 - Securing GET /error
2025-08-02 17:15:02 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:15:02 - Pre-authenticated entry point called. Rejecting access
2025-08-02 17:15:02 - Pre-authenticated entry point called. Rejecting access
2025-08-02 17:15:02 - Securing GET /error
2025-08-02 17:15:02 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:15:02 - Pre-authenticated entry point called. Rejecting access
2025-08-02 17:15:02 - Securing GET /auth/validate
2025-08-02 17:15:02 - 无法获取JWT令牌
java.lang.IllegalArgumentException: Invalid JWT token
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:68)
	at org.me.joy.clinic.security.JwtUtil.extractClaim(JwtUtil.java:53)
	at org.me.joy.clinic.security.JwtUtil.extractUsername(JwtUtil.java:39)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:48)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: io.jsonwebtoken.ExpiredJwtException: JWT expired 138800 milliseconds ago at 2025-08-02T09:12:44.000Z. Current time: 2025-08-02T09:15:02.800Z. Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:682)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:362)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:821)
	at org.me.joy.clinic.security.JwtUtil.extractAllClaims(JwtUtil.java:65)
	... 58 common frames omitted
2025-08-02 17:15:02 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 17:15:02 - Secured GET /auth/validate
2025-08-02 21:09:57 - Securing OPTIONS /auth/login
2025-08-02 21:10:21 - Securing OPTIONS /auth/login
2025-08-02 21:17:26 - Securing OPTIONS /auth/login
2025-08-02 21:19:34 - Securing OPTIONS /auth/login
2025-08-02 21:46:32 - Securing OPTIONS /auth/login
2025-08-02 21:46:39 - Securing OPTIONS /auth/login
2025-08-02 21:50:41 - Securing OPTIONS /auth/login
2025-08-02 21:50:41 - Securing POST /auth/login
2025-08-02 21:50:41 - JWT令牌不以Bearer字符串开头
2025-08-02 21:50:41 - Set SecurityContextHolder to anonymous SecurityContext
2025-08-02 21:50:41 - Secured POST /auth/login
2025-08-02 21:50:41 - 收到登录请求: admin
2025-08-02 21:50:41 - 用户登录尝试: admin
2025-08-02 21:50:41 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:50:41 - ==> Parameters: admin(String)
2025-08-02 21:50:41 - <==      Total: 1
2025-08-02 21:50:41 - Authenticated user
2025-08-02 21:50:41 - 创建用户会话: username=admin, expirationTime=2025-08-02T22:20:41.457459
2025-08-02 21:50:41 - 用户会话创建成功: admin
2025-08-02 21:50:41 - ==>  Preparing: UPDATE users SET username=?, password=?, full_name=?, email=?, department=?, position=?, enabled=?, account_non_expired=?, account_non_locked=?, credentials_non_expired=?, last_login_time=?, last_login_ip=?, password_changed_time=?, failed_login_attempts=?, created_at=?, updated_at=? WHERE id=? AND deleted=0
2025-08-02 21:50:41 - ==> Parameters: admin(String), $2a$10$sBnVfcrUZJ4QoDbl.bqkM.TqDWy8MW.i5FU.vgnIZwnwapgdkHynC(String), 系统管理员(String), admin@clinic.com(String), IT部门(String), 系统管理员(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2025-08-02T21:50:41.457848(LocalDateTime), 127.0.0.1(String), 2025-08-02T10:43:28(LocalDateTime), 0(Integer), 2025-08-02T10:00:28(LocalDateTime), 2025-08-02T10:41:23(LocalDateTime), 1(Long)
2025-08-02 21:50:41 - <==    Updates: 1
2025-08-02 21:50:41 - 用户登录成功: admin
2025-08-02 21:50:41 - 用户登录成功: admin
2025-08-02 21:50:44 - Securing OPTIONS /users
2025-08-02 21:50:44 - Securing OPTIONS /roles/enabled
2025-08-02 21:50:44 - Securing OPTIONS /users
2025-08-02 21:50:44 - Securing OPTIONS /roles/enabled
2025-08-02 21:50:44 - Securing GET /roles/enabled
2025-08-02 21:50:44 - Securing GET /users
2025-08-02 21:50:44 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:50:44 - ==> Parameters: admin(String)
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:50:44 - ==> Parameters: admin(String)
2025-08-02 21:50:44 - Secured GET /roles/enabled
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - Secured GET /users
2025-08-02 21:50:44 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 21:50:44 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 21:50:44 - 获取用户权限: 1
2025-08-02 21:50:44 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 21:50:44 - ==> Parameters: 1(Long)
2025-08-02 21:50:44 - Securing GET /roles/enabled
2025-08-02 21:50:44 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:50:44 - ==> Parameters: admin(String)
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - Secured GET /roles/enabled
2025-08-02 21:50:44 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 21:50:44 - <==      Total: 51
2025-08-02 21:50:44 - 权限验证通过
2025-08-02 21:50:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 21:50:44 - ==> Parameters: 
2025-08-02 21:50:44 - <==      Total: 3
2025-08-02 21:50:44 - 获取用户角色: 1
2025-08-02 21:50:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:44 - ==> Parameters: 1(Long)
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:44 - ==> Parameters: 1(Long)
2025-08-02 21:50:44 - <==      Total: 2
2025-08-02 21:50:44 - 获取用户角色: 2
2025-08-02 21:50:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:44 - ==> Parameters: 2(Long)
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:44 - ==> Parameters: 2(Long)
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - 获取用户角色: 3
2025-08-02 21:50:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:44 - ==> Parameters: 3(Long)
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:44 - ==> Parameters: 3(Long)
2025-08-02 21:50:44 - <==      Total: 0
2025-08-02 21:50:44 - Securing GET /users
2025-08-02 21:50:44 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:50:44 - ==> Parameters: admin(String)
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - Secured GET /users
2025-08-02 21:50:44 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 21:50:44 - 获取用户权限: 1
2025-08-02 21:50:44 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 21:50:44 - ==> Parameters: 1(Long)
2025-08-02 21:50:44 - <==      Total: 51
2025-08-02 21:50:44 - 权限验证通过
2025-08-02 21:50:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 21:50:44 - ==> Parameters: 
2025-08-02 21:50:44 - <==      Total: 3
2025-08-02 21:50:44 - 获取用户角色: 1
2025-08-02 21:50:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:44 - ==> Parameters: 1(Long)
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:44 - ==> Parameters: 1(Long)
2025-08-02 21:50:44 - <==      Total: 2
2025-08-02 21:50:44 - 获取用户角色: 2
2025-08-02 21:50:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:44 - ==> Parameters: 2(Long)
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:44 - ==> Parameters: 2(Long)
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - 获取用户角色: 3
2025-08-02 21:50:44 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:44 - ==> Parameters: 3(Long)
2025-08-02 21:50:44 - <==      Total: 1
2025-08-02 21:50:44 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:44 - ==> Parameters: 3(Long)
2025-08-02 21:50:44 - <==      Total: 0
2025-08-02 21:50:52 - Securing GET /users
2025-08-02 21:50:52 - Securing GET /roles/enabled
2025-08-02 21:50:52 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:50:52 - ==> Parameters: admin(String)
2025-08-02 21:50:52 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:50:52 - <==      Total: 1
2025-08-02 21:50:52 - ==> Parameters: admin(String)
2025-08-02 21:50:53 - <==      Total: 1
2025-08-02 21:50:53 - Secured GET /users
2025-08-02 21:50:53 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 21:50:53 - Secured GET /roles/enabled
2025-08-02 21:50:53 - 获取用户权限: 1
2025-08-02 21:50:53 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 21:50:53 - ==> Parameters: 1(Long)
2025-08-02 21:50:53 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 21:50:53 - <==      Total: 51
2025-08-02 21:50:53 - 权限验证通过
2025-08-02 21:50:53 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 21:50:53 - ==> Parameters: 
2025-08-02 21:50:53 - Securing GET /roles/enabled
2025-08-02 21:50:53 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:50:53 - ==> Parameters: admin(String)
2025-08-02 21:50:53 - <==      Total: 3
2025-08-02 21:50:53 - 获取用户角色: 1
2025-08-02 21:50:53 - <==      Total: 1
2025-08-02 21:50:53 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:53 - ==> Parameters: 1(Long)
2025-08-02 21:50:53 - Secured GET /roles/enabled
2025-08-02 21:50:53 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 21:50:53 - <==      Total: 1
2025-08-02 21:50:53 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:53 - ==> Parameters: 1(Long)
2025-08-02 21:50:53 - <==      Total: 2
2025-08-02 21:50:53 - 获取用户角色: 2
2025-08-02 21:50:53 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:53 - ==> Parameters: 2(Long)
2025-08-02 21:50:53 - <==      Total: 1
2025-08-02 21:50:53 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:53 - ==> Parameters: 2(Long)
2025-08-02 21:50:53 - <==      Total: 1
2025-08-02 21:50:53 - 获取用户角色: 3
2025-08-02 21:50:53 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:53 - ==> Parameters: 3(Long)
2025-08-02 21:50:53 - <==      Total: 1
2025-08-02 21:50:53 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:54 - ==> Parameters: 3(Long)
2025-08-02 21:50:54 - <==      Total: 0
2025-08-02 21:50:54 - Securing GET /users
2025-08-02 21:50:54 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:50:54 - ==> Parameters: admin(String)
2025-08-02 21:50:54 - <==      Total: 1
2025-08-02 21:50:54 - Secured GET /users
2025-08-02 21:50:54 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 21:50:54 - 获取用户权限: 1
2025-08-02 21:50:54 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 21:50:54 - ==> Parameters: 1(Long)
2025-08-02 21:50:54 - <==      Total: 51
2025-08-02 21:50:54 - 权限验证通过
2025-08-02 21:50:54 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 21:50:54 - ==> Parameters: 
2025-08-02 21:50:54 - <==      Total: 3
2025-08-02 21:50:54 - 获取用户角色: 1
2025-08-02 21:50:54 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:54 - ==> Parameters: 1(Long)
2025-08-02 21:50:54 - <==      Total: 1
2025-08-02 21:50:54 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:54 - ==> Parameters: 1(Long)
2025-08-02 21:50:54 - <==      Total: 2
2025-08-02 21:50:54 - 获取用户角色: 2
2025-08-02 21:50:54 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:54 - ==> Parameters: 2(Long)
2025-08-02 21:50:54 - <==      Total: 1
2025-08-02 21:50:54 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:54 - ==> Parameters: 2(Long)
2025-08-02 21:50:54 - <==      Total: 1
2025-08-02 21:50:54 - 获取用户角色: 3
2025-08-02 21:50:54 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 21:50:54 - ==> Parameters: 3(Long)
2025-08-02 21:50:54 - <==      Total: 1
2025-08-02 21:50:54 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 21:50:54 - ==> Parameters: 3(Long)
2025-08-02 21:50:54 - <==      Total: 0
2025-08-02 21:57:33 - Securing OPTIONS /auth/validate
2025-08-02 21:57:33 - Securing OPTIONS /auth/validate
2025-08-02 21:57:33 - Securing GET /auth/validate
2025-08-02 21:57:33 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:57:33 - ==> Parameters: admin(String)
2025-08-02 21:57:33 - <==      Total: 1
2025-08-02 21:57:33 - Secured GET /auth/validate
2025-08-02 21:57:33 - Securing GET /auth/validate
2025-08-02 21:57:33 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:57:33 - ==> Parameters: admin(String)
2025-08-02 21:57:33 - <==      Total: 1
2025-08-02 21:57:33 - Secured GET /auth/validate
2025-08-02 21:57:42 - Securing OPTIONS /auth/login
2025-08-02 21:57:42 - Securing POST /auth/login
2025-08-02 21:57:42 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:57:42 - ==> Parameters: admin(String)
2025-08-02 21:57:42 - <==      Total: 1
2025-08-02 21:57:42 - Secured POST /auth/login
2025-08-02 21:57:42 - 收到登录请求: admin
2025-08-02 21:57:42 - 用户登录尝试: admin
2025-08-02 21:57:42 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:57:42 - ==> Parameters: admin(String)
2025-08-02 21:57:42 - <==      Total: 1
2025-08-02 21:57:43 - Authenticated user
2025-08-02 21:57:43 - 创建用户会话: username=admin, expirationTime=2025-08-02T22:27:43.046698
2025-08-02 21:57:43 - 用户会话创建成功: admin
2025-08-02 21:57:43 - ==>  Preparing: UPDATE users SET username=?, password=?, full_name=?, email=?, department=?, position=?, enabled=?, account_non_expired=?, account_non_locked=?, credentials_non_expired=?, last_login_time=?, last_login_ip=?, password_changed_time=?, failed_login_attempts=?, created_at=?, updated_at=? WHERE id=? AND deleted=0
2025-08-02 21:57:43 - ==> Parameters: admin(String), $2a$10$sBnVfcrUZJ4QoDbl.bqkM.TqDWy8MW.i5FU.vgnIZwnwapgdkHynC(String), 系统管理员(String), admin@clinic.com(String), IT部门(String), 系统管理员(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2025-08-02T21:57:43.046866(LocalDateTime), 127.0.0.1(String), 2025-08-02T10:43:28(LocalDateTime), 0(Integer), 2025-08-02T10:00:28(LocalDateTime), 2025-08-02T10:41:23(LocalDateTime), 1(Long)
2025-08-02 21:57:43 - <==    Updates: 1
2025-08-02 21:57:43 - 用户登录成功: admin
2025-08-02 21:57:43 - 用户登录成功: admin
2025-08-02 21:57:45 - Securing OPTIONS /roles
2025-08-02 21:57:45 - Securing OPTIONS /roles
2025-08-02 21:57:45 - Securing GET /roles
2025-08-02 21:57:45 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:57:45 - ==> Parameters: admin(String)
2025-08-02 21:57:45 - <==      Total: 1
2025-08-02 21:57:45 - Secured GET /roles
2025-08-02 21:57:45 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 21:57:45 - Securing GET /roles
2025-08-02 21:57:45 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:57:45 - ==> Parameters: admin(String)
2025-08-02 21:57:45 - <==      Total: 1
2025-08-02 21:57:45 - Secured GET /roles
2025-08-02 21:57:45 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 21:57:58 - Securing OPTIONS /roles
2025-08-02 21:57:58 - Securing POST /roles
2025-08-02 21:57:58 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:57:58 - ==> Parameters: admin(String)
2025-08-02 21:57:58 - <==      Total: 1
2025-08-02 21:57:58 - Secured POST /roles
2025-08-02 21:57:58 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 21:58:06 - Securing POST /roles
2025-08-02 21:58:06 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 21:58:06 - ==> Parameters: admin(String)
2025-08-02 21:58:06 - <==      Total: 1
2025-08-02 21:58:06 - Secured POST /roles
2025-08-02 21:58:07 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 22:01:13 - Securing GET /roles
2025-08-02 22:01:13 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 22:01:13 - ==> Parameters: admin(String)
2025-08-02 22:01:13 - <==      Total: 1
2025-08-02 22:01:13 - Secured GET /roles
2025-08-02 22:01:13 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 22:01:14 - Securing GET /roles
2025-08-02 22:01:14 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 22:01:14 - ==> Parameters: admin(String)
2025-08-02 22:01:14 - <==      Total: 1
2025-08-02 22:01:14 - Secured GET /roles
2025-08-02 22:01:14 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 22:01:45 - Securing GET /roles
2025-08-02 22:01:45 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 22:01:45 - ==> Parameters: admin(String)
2025-08-02 22:01:45 - <==      Total: 1
2025-08-02 22:01:45 - Secured GET /roles
2025-08-02 22:01:45 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 22:02:06 - Securing GET /roles/enabled
2025-08-02 22:02:06 - Securing GET /users
2025-08-02 22:02:06 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 22:02:06 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 22:02:06 - ==> Parameters: admin(String)
2025-08-02 22:02:06 - ==> Parameters: admin(String)
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - Secured GET /users
2025-08-02 22:02:06 - Secured GET /roles/enabled
2025-08-02 22:02:06 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 22:02:06 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 22:02:06 - 获取用户权限: 1
2025-08-02 22:02:06 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 22:02:06 - ==> Parameters: 1(Long)
2025-08-02 22:02:06 - Securing GET /roles/enabled
2025-08-02 22:02:06 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 22:02:06 - ==> Parameters: admin(String)
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - <==      Total: 51
2025-08-02 22:02:06 - 权限验证通过
2025-08-02 22:02:06 - Secured GET /roles/enabled
2025-08-02 22:02:06 - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource roles/enabled.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.me.joy.clinic.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:82)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-08-02 22:02:06 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 22:02:06 - ==> Parameters: 
2025-08-02 22:02:06 - <==      Total: 3
2025-08-02 22:02:06 - 获取用户角色: 1
2025-08-02 22:02:06 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 22:02:06 - ==> Parameters: 1(Long)
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 22:02:06 - ==> Parameters: 1(Long)
2025-08-02 22:02:06 - <==      Total: 2
2025-08-02 22:02:06 - 获取用户角色: 2
2025-08-02 22:02:06 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 22:02:06 - ==> Parameters: 2(Long)
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 22:02:06 - ==> Parameters: 2(Long)
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - 获取用户角色: 3
2025-08-02 22:02:06 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 22:02:06 - ==> Parameters: 3(Long)
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 22:02:06 - ==> Parameters: 3(Long)
2025-08-02 22:02:06 - <==      Total: 0
2025-08-02 22:02:06 - Securing GET /users
2025-08-02 22:02:06 - ==>  Preparing: SELECT * FROM users WHERE username = ? AND deleted = 0
2025-08-02 22:02:06 - ==> Parameters: admin(String)
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - Secured GET /users
2025-08-02 22:02:06 - 检查权限: USER_VIEW (逻辑: OR)
2025-08-02 22:02:06 - 获取用户权限: 1
2025-08-02 22:02:06 - ==>  Preparing: SELECT DISTINCT p.* FROM permissions p JOIN role_permissions rp ON p.id = rp.permission_id JOIN roles r ON rp.role_id = r.id AND r.deleted = 0 JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND p.enabled = 1 AND p.deleted = 0
2025-08-02 22:02:06 - ==> Parameters: 1(Long)
2025-08-02 22:02:06 - <==      Total: 51
2025-08-02 22:02:06 - 权限验证通过
2025-08-02 22:02:06 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE deleted=0
2025-08-02 22:02:06 - ==> Parameters: 
2025-08-02 22:02:06 - <==      Total: 3
2025-08-02 22:02:06 - 获取用户角色: 1
2025-08-02 22:02:06 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 22:02:06 - ==> Parameters: 1(Long)
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 22:02:06 - ==> Parameters: 1(Long)
2025-08-02 22:02:06 - <==      Total: 2
2025-08-02 22:02:06 - 获取用户角色: 2
2025-08-02 22:02:06 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 22:02:06 - ==> Parameters: 2(Long)
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 22:02:06 - ==> Parameters: 2(Long)
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - 获取用户角色: 3
2025-08-02 22:02:06 - ==>  Preparing: SELECT id,username,password,full_name,email,phone,hire_date,employee_id,department,position,enabled,account_non_expired,account_non_locked,credentials_non_expired,last_login_time,last_login_ip,password_changed_time,failed_login_attempts,locked_time,created_at,updated_at,deleted FROM users WHERE id=? AND deleted=0
2025-08-02 22:02:06 - ==> Parameters: 3(Long)
2025-08-02 22:02:06 - <==      Total: 1
2025-08-02 22:02:06 - ==>  Preparing: SELECT r.* FROM roles r INNER JOIN user_roles ur ON r.id = ur.role_id WHERE ur.user_id = ? AND r.deleted = 0 ORDER BY r.role_name
2025-08-02 22:02:06 - ==> Parameters: 3(Long)
2025-08-02 22:02:06 - <==      Total: 0
